@page "{id:int}"
@model Sastt.Web.Pages.WorkOrders.DetailsModel
@{
    ViewData["Title"] = "Work Order Details";
}

<h1>Work Order Details</h1>
@if (Model.Item is not null)
{
    <dl>
        <dt>Id</dt><dd>@Model.Item.Id</dd>
        <dt>Aircraft</dt><dd>@Model.Item.AircraftId</dd>
        <dt>Status</dt><dd>@Model.Item.Status</dd>
    </dl>

    @foreach (var status in Model.AllowedTransitions)
    {
        <form method="post" asp-page-handler="Transition">
            <input type="hidden" name="id" value="@Model.Item.Id" />
            <input type="hidden" name="status" value="@status" />
            <button type="submit">@status</button>
        </form>
    }
}
else
{
    <p>Work order not found.</p>
}
